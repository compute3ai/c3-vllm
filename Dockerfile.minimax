ARG BASE_IMAGE=ghcr.io/compute3ai/c3-vllm:latest
FROM ${BASE_IMAGE}

# Install minimax-specific dependencies: triton-kernels and vllm nightly
RUN uv pip install --system 'triton-kernels @ git+https://github.com/triton-lang/triton.git@v3.5.0#subdirectory=python/triton_kernels' \
    vllm --extra-index-url https://wheels.vllm.ai/nightly --prerelease=allow
